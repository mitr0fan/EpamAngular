<div class="container">
    <mat-form-field class="edit-course__input">
        <input type="text" matInput
        #input
        placeholder="Authors"
        [(ngModel)]="author"
        value="author"
        [matAutocomplete]="auto"
        (keyup)="search(input.value)"
        (click)="onClick()"
        [errorStateMatcher]="matcher"
        >
        <mat-error *ngIf="control.hasError('noAuthors')">
            There must be <strong>at least one author</strong>
        </mat-error>
        <mat-error *ngIf="control.hasError('maxAuthors')">
            Maximum amount of authors <strong>is 2</strong>
        </mat-error>
        <div matPrefix>
            <div class="input_selectedAuthor" *ngFor="let authorObj of authorsList">
                {{authorObj.fullName}}
                <span class="input_deleteAuthor" (click)="deleteAuthor(authorObj.id)">â®¿</span>
            </div>
        </div>
        <mat-autocomplete #auto="matAutocomplete">
            <div *ngIf="input.value.length > 2">
                <mat-option 
                *ngFor="let authorItem of authorsListSearch$ | async"
                (click)="selectAuthor(authorItem)"
                >
                    {{authorItem.fullName}}
                </mat-option>
            </div>
        </mat-autocomplete>
    </mat-form-field>
</div>
